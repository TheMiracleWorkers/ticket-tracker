(this["webpackJsonpticket-tracker"]=this["webpackJsonpticket-tracker"]||[]).push([[0],{226:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(71),s=n.n(r),c=n(7),o=(n(226),n(35)),l=n(422),d=n(423),u=n(424),j=n(425),h=n(426),b=n(430),m=n(431),O=n(5),p=n(458),x=n(466),g=n(448),f=n(427),v=n(428),w=n(429),y=n(50),k=n(0),S=function(e){return{width:250,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",backgroundColor:"#F6F4F5",border:0}},C=function(e){return{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),backgroundColor:"#F6F4F5",border:0}},T=Object(O.a)(p.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(o.a)(Object(o.a)({whiteSpace:"nowrap",boxSizing:"border-box"},n&&{"#side-menu & .MuiDrawer-paper":S(t)}),!n&&{"#side-menu & .MuiDrawer-paper":C(t)})}));function D(){var e=a.useState(!1),t=Object(c.a)(e,2),n=t[0],i=t[1],r={0:{text:"Home",element:Object(k.jsx)(l.a,{}),to:"/"},1:{text:"Tickets",element:Object(k.jsx)(d.a,{}),to:"/tickets"},2:{text:"Projects",element:Object(k.jsx)(u.a,{}),to:"/projects"},3:{text:"Users",element:Object(k.jsx)(j.a,{}),to:"/users"},4:{text:"Settings",element:Object(k.jsx)(h.a,{}),to:"/settings"}};return Object(k.jsx)("div",{id:"side-menu",children:Object(k.jsxs)(T,{variant:"permanent",open:n,children:[Object(k.jsx)(x.a,{children:Object.keys(r).map((function(e){return Object(k.jsxs)(g.a,{button:!0,role:"button",component:y.a,to:r[e].to,children:[Object(k.jsx)(f.a,{children:r[e].element}),Object(k.jsx)(v.a,{primary:r[e].text})]},e)}))}),Object(k.jsx)(w.a,{}),n?Object(k.jsx)(g.a,{button:!0,onClick:function(){i(!1),document.getElementById("content").classList.toggle("open"),document.getElementById("top-header").classList.toggle("open")},children:Object(k.jsx)(m.a,{})}):Object(k.jsx)(g.a,{button:!0,onClick:function(){i(!0),document.getElementById("content").classList.toggle("open"),document.getElementById("top-header").classList.toggle("open")},children:Object(k.jsx)(b.a,{})})]})})}var P=n(438),_=n(439),I=n(477),U=n(476),W=n(462),q=n(23),A=n(3),E=n(37),F=n(193),Y=n.n(F),M=n(350),B=Object(O.a)("div")((function(e){var t=e.theme;return Object(A.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(M.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%",border:"1px solid #000"},t.breakpoints.up("sm"),{marginLeft:t.spacing(0),width:"auto"})})),L=Object(O.a)("div")((function(e){return{padding:e.theme.spacing(0),height:"100%",position:"absolute",pointerEvents:"none",right:10,display:"flex",alignItems:"center",justifyContent:"center",marginRi:0}})),N=Object(O.a)(E.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,3),paddingLeft:"calc(1em + ".concat(t.spacing(1),")"),width:"100%"}}})),z=function(e){var t=e.placeholder,n=(e.label,e.name),a=e.value,i=e.onChange;return Object(k.jsxs)(B,{style:{marginRight:16},children:[Object(k.jsx)(L,{children:Object(k.jsx)(Y.a,{})}),Object(k.jsx)(N,{placeholder:t,name:n,value:a,onChange:i})]})},J=n(450),V=n(478),R=n(453),H=n(126),G=n(451),X=n(49),Q=n(47),$=n(465),K=n(437),Z=n(15),ee=n(16),te=function(){function e(t){Object(Z.a)(this,e),this.id=void 0,this.title=void 0,this.description=void 0,this.status=void 0,this.dueDate=void 0,this.createdDate=void 0,this.updatedDate=void 0,this.priority=void 0,this.project=void 0,this.project_name=void 0,this.assignedUserId=void 0,this.assignedUserName=void 0,this.id=t.id?t.id:null,this.title=t.title,this.description=t.description,this.status=t.status?t.status:"Open",this.dueDate=t.due_date?new Date(t.due_date):null,this.createdDate=t.created_at?new Date(t.created_at):null,this.updatedDate=t.updated_at?new Date(t.updated_at):null,this.priority=t.priority?t.priority:null,this.project=t.project?t.project:null,this.project_name=t.project_name,this.assignedUserId=t.assigned_user?t.assigned_user:null,this.assignedUserName=t.assigned_username}return Object(ee.a)(e,[{key:"toJSON",value:function(){var e,t;return{id:this.id?this.id:"",title:this.title,description:this.description,due_date:this.dueDate?this.dueDate.toISOString():null,created_at:null===(e=this.createdDate)||void 0===e?void 0:e.toUTCString(),updated_at:null===(t=this.createdDate)||void 0===t?void 0:t.toUTCString(),priority:this.priority,status:this.status,project:this.project,project_name:this.project_name,assigned_user:this.assignedUserId,assigned_username:this.assignedUserName}}}]),e}(),ne=n(82),ae=n.n(ne),ie=function(){var e=null;return{getToken:function(){return e},setToken:function(t){return e=t,!0},deleteToken:function(){return e=null,!0}}}(),re=function(){function e(){Object(Z.a)(this,e),this.apiUrl="https://sheltered-bastion-53879.herokuapp.com/",this.axiosInstance=ae.a.create({baseURL:this.apiUrl})}return Object(ee.a)(e,[{key:"getAllTicketsPromise",value:function(){return this.axiosInstance.request({method:"GET",url:"/tickets",headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"getTicketByIdPromise",value:function(e){return this.axiosInstance.request({method:"GET",url:"/tickets/"+e,headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"postTicket",value:function(e){return this.axiosInstance.request({method:"POST",url:"/tickets/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"updateTicketPromise",value:function(e){return this.axiosInstance.request({method:"PUT",url:"/tickets/"+e.id+"/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"getAllProjectPromise",value:function(){return this.axiosInstance.request({method:"GET",url:"/projects",headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"getProjectByIdPromise",value:function(e){return this.axiosInstance.request({method:"GET",url:"/projects/"+e,headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"postProject",value:function(e){return this.axiosInstance.request({method:"POST",url:"/projects/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"updateProjectPromise",value:function(e){return this.axiosInstance.request({method:"PUT",url:"/projects/"+e.id+"/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"deleteProject",value:function(e){return this.axiosInstance.request({method:"DELETE",url:"/projects/"+e.id+"/",headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"registerUserPromise",value:function(e){return this.axiosInstance.request({method:"POST",url:"/register/",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"loginUserPromise",value:function(e){return this.axiosInstance.request({method:"POST",url:"token-auth/",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}]),e}(),se=n(434),ce=n(442),oe=n(443),le=function(){function e(t){Object(Z.a)(this,e),this.id=void 0,this.name=void 0,this.id=t.id?t.id:null,this.name=t.name}return Object(ee.a)(e,[{key:"toJSON",value:function(){return{id:this.id?this.id:"",name:this.name}}}]),e}(),de=function(){function e(t){Object(Z.a)(this,e),this.id=void 0,this.url=void 0,this.username=void 0,this.email=void 0,this.groups=void 0,this.last_login=void 0,this.date_joined=void 0,this.id=t.id?t.id:null,this.url=t.url,this.username=t.username,this.email=t.email,this.groups=t.groups?t.groups:null,this.last_login=t.last_login?t.last_login:null,this.date_joined=t.date_joined?t.date_joined:null}return Object(ee.a)(e,[{key:"toJSON",value:function(){return{id:this.id?this.id:"",url:this.url,username:this.username,email:this.email,groups:this.groups,last_login:this.last_login,date_joined:this.date_joined}}}]),e}(),ue=function(){function e(){Object(Z.a)(this,e),this.apiUrl="https://sheltered-bastion-53879.herokuapp.com/",this.axiosInstance=ae.a.create({baseURL:this.apiUrl,headers:{Authorization:"JWT ".concat(ie.getToken())}})}return Object(ee.a)(e,[{key:"getAllUsersPromise",value:function(){return this.axiosInstance.request({method:"GET",url:"/users",headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"getUserByIdPromise",value:function(e){return this.axiosInstance.request({method:"GET",url:"/users/"+e,headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"postUser",value:function(e){return this.axiosInstance.request({method:"POST",url:"/users/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}},{key:"updateUserPromise",value:function(e){return this.axiosInstance.request({method:"PUT",url:"/users/"+e.id+"/",data:e.toJSON(),headers:{Authorization:"JWT ".concat(ie.getToken())}})}}]),e}(),je=X.b({title:X.c().min(10,"Ticket title should be of minimum 8 characters length").required("Ticket title is required"),description:X.c().required("Ticket description is required"),dueDate:X.a().required("dueDate must be a `date` type")});function he(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)([]),l=Object(c.a)(s,2),d=l[0],u=l[1],j=new re,h=new ue,b=Object(q.g)();Object(a.useEffect)((function(){j.getAllProjectPromise().then((function(e){var t=e.data.map((function(e){return new le(e)}));r(t),console.log(i)}))}),[]),Object(a.useEffect)((function(){h.getAllUsersPromise().then((function(e){var t=e.data.map((function(e){return new de(e)}));u(t)}))}),[]);var m=Object(Q.a)({initialValues:{title:"",description:"",dueDate:null,priority:"",project:"",assignedUserId:""},validationSchema:je,onSubmit:function(t){var n=new te({title:t.title,description:t.description,due_date:t.dueDate&&new Date(t.dueDate),priority:t.priority,project:t.project,assigned_user:t.assignedUserId});j.postTicket(n).catch((function(e){})).then((function(t){b.push("/tickets"),e.onClose()}))}});return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("form",{onSubmit:m.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:3,children:[Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,variant:"standard",value:m.values.title,onChange:m.handleChange,error:m.touched.title&&Boolean(m.errors.title),helperText:m.touched.title&&m.errors.title})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"project",name:"project",label:"Project",fullWidth:!0,variant:"standard",value:m.values.project,onChange:function(e){return m.setFieldValue("project",e.target.value)},onBlur:m.handleBlur,children:i.map((function(e){return Object(k.jsx)($.a,{value:e.id,children:e.name},e.id)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(k.jsx)(se.b,{dateAdapter:oe.a,children:Object(k.jsx)(ce.a,{label:"Due Date",value:m.values.dueDate,inputFormat:"dd-MM-yyyy HH:mm",onChange:function(e){return m.setFieldValue("dueDate",e)},minDate:new Date,renderInput:function(e){return Object(k.jsx)(G.a,Object(o.a)({id:"due_date",name:"due_date",label:"Due Date",fullWidth:!0,variant:"standard",onChange:m.handleChange,onBlur:m.handleBlur},e))}})})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:1,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"priority",name:"priority",label:"Priority",fullWidth:!0,variant:"standard",value:m.values.priority,onChange:function(e){return m.setFieldValue("priority",e.target.value)},onBlur:m.handleBlur,children:[{label:"LOW",value:1},{label:"MEDIUM",value:2},{label:"HIGH",value:3}].map((function(e){return Object(k.jsx)($.a,{value:e.value,children:e.value},e.label)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"assigned",name:"assigned",label:"Assigned",fullWidth:!0,variant:"standard",value:m.values.assignedUserId,onChange:function(e){return m.setFieldValue("assignedUserId",e.target.value)},onBlur:m.handleBlur,children:d.map((function(e){return Object(k.jsx)($.a,{value:e.id,children:e.username},e.id)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(G.a,{required:!0,id:"description",name:"description",label:"Description",fullWidth:!0,variant:"standard",multiline:!0,rows:8,value:m.values.description,onChange:m.handleChange,error:m.touched.description&&Boolean(m.errors.description),helperText:m.touched.description&&m.errors.description})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(K.a,{spacing:2,direction:"row",children:[Object(k.jsx)(W.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(k.jsx)(W.a,{color:"primary",variant:"outlined",onClick:function(){return e.onClose()},children:"Cancel"})]})})]})})})}function be(e){return Object(k.jsx)("div",{id:"add-ticket",children:Object(k.jsx)(J.a,{open:e.modalIsOpen,children:Object(k.jsx)(V.a,{sx:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4},children:Object(k.jsxs)(R.a,{container:!0,spacing:{md:0},columns:{xs:4,sm:8,md:12},padding:{md:.6},justifyContent:"space-between",children:[Object(k.jsx)(H.a,{variant:"h4",gutterBottom:!0,noWrap:!0,children:"Add Ticket"}),Object(k.jsx)(R.a,{item:!0,xs:4,sm:8,md:12,children:Object(k.jsx)(he,{onClose:e.onClose})})]})})})})}var me=X.b({name:X.c().min(3,"Project name should be of minimum 3 characters length").required("project name is required")});function Oe(e){var t=new re;function n(){i.resetForm(),e.onClose()}var i=Object(Q.a)({initialValues:{name:e.project?e.project.name:""},validationSchema:me,onSubmit:function(a){e.project?function(e,a){e.name=a.name,t.updateProjectPromise(e).catch((function(e){})).then((function(e){n()}))}(e.project,a):function(e){var a=new le({name:e.name});t.postProject(a).catch((function(e){})).then((function(e){n()}))}(a)}});return Object(a.useEffect)((function(){var t;e.project&&i.setFieldValue("name",null===(t=e.project)||void 0===t?void 0:t.name)}),[e.project]),Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(J.a,{open:e.modalIsOpen,children:Object(k.jsx)(V.a,{sx:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4},children:Object(k.jsx)("form",{onSubmit:i.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:3,children:[Object(k.jsx)(R.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(G.a,{required:!0,id:"name",name:"name",label:"Name",fullWidth:!0,variant:"standard",value:i.values.name,onChange:i.handleChange,error:i.touched.name&&Boolean(i.errors.name),helperText:i.touched.name&&i.errors.name})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(K.a,{spacing:2,direction:"row",children:[Object(k.jsx)(W.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(k.jsx)(W.a,{color:"primary",variant:"outlined",onClick:function(){return n()},children:"Cancel"})]})})]})})})})})}function pe(e){var t,n,i,r=Object(q.h)(),s=a.useState(!1),o=Object(c.a)(s,2),l=o[0],d=o[1];switch(r.pathname){case"/tickets":t="+ Add ticket",i=!0,n=Object(k.jsx)(be,{modalIsOpen:l,onClose:u});break;case"/projects":t="+ Add project",i=!0,n=Object(k.jsx)(Oe,{modalIsOpen:l,onClose:u});break;case"/users":i=!0;break;default:t=""}function u(){d(!1)}return Object(k.jsxs)("div",{id:"top-header",children:[n,Object(k.jsxs)(I.a,{className:"app-bar",children:[Object(k.jsx)(U.a,{children:t?Object(k.jsxs)(W.a,{variant:"outlined",className:"add-button",size:"medium",onClick:function(){return d(!0)},children:[t," "]}):""}),Object(k.jsxs)(U.a,{children:[i?Object(k.jsx)(z,{type:"input",placeholder:" Search...",label:"search",name:"search",value:e.searchText,onChange:function(t){return e.setSearchText(t.target.value)}}):"",e.logged_in?Object(k.jsx)("li",{onClick:e.handle_logout,style:{marginRight:16,cursor:"pointer",listStyle:"none"},children:Object(k.jsx)(P.a,{})}):"",Object(k.jsx)(y.a,{to:"/",children:Object(k.jsx)(_.a,{})})]})]})]})}function xe(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(H.a,{variant:"h1",gutterBottom:!0,children:"Dashboard"}),Object(k.jsx)(R.a,{container:!0,spacing:2,children:Object(k.jsx)(R.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(H.a,{variant:"body1",children:"Welcome to the ticket tickets application. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer consequat velit sem, ultrices cursus augue lacinia a. Quisque consequat ac neque ut convallis. Sed velit arcu, vestibulum ut lacus vel, fermentum faucibus augue. Vivamus justo felis, consectetur eu accumsan a, faucibus at diam."})})})]})}var ge=n(461),fe=n(473),ve=n(472),we=n(460),ye=n(475),ke=n(474),Se=n(456),Ce=n(446),Te=n(444),De=Object(Te.a)({table:{marginTop:"20px","& thead th":{fontWeight:"600"},"& tbody td":{fontWeight:"200"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"},"@media (max-width: 768px)":{overflowX:"auto",display:"block"}},paginationContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"1em",fontSize:".75em","@media (max-width: 768px)":{justifyContent:"center",flexWrap:"wrap",flex:"0 0 100%"}},paginationSelect:{width:45,border:0},paginationSection:{display:"flex",alignItems:"center",justifyContent:"center","@media (max-width: 768px)":{marginTop:"10px"}},paginationText:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',margin:"0.75em","@media (max-width: 768px)":{margin:"0"}}});function Pe(e,t,n){var r=De(),s=[5,10,25],o=Object(a.useState)(1),l=Object(c.a)(o,2),d=l[0],u=l[1],j=i.a.useState(s[0]),h=Object(c.a)(j,2),b=h[0],m=h[1],O=i.a.useState("asc"),p=Object(c.a)(O,2),x=p[0],g=p[1],f=i.a.useState(""),v=Object(c.a)(f,2),w=v[0],y=v[1];function S(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}return{TblContainer:function(e){return Object(k.jsx)(ye.a,{className:r.table,children:e.children})},TblHead:function(){return Object(k.jsx)(ke.a,{children:Object(k.jsx)(fe.a,{children:t.map((function(e){return Object(k.jsx)(ve.a,{children:Object(k.jsx)(Se.a,{active:w===e.id,direction:w===e.id?x:"asc",onClick:function(){var t;t=e.id,g(w===t&&"asc"===x?"desc":"asc"),y(t)},children:e.label})},e.id)}))})})},TblPagination:function(){return Object(k.jsxs)("div",{className:r.paginationContainer,children:[Object(k.jsx)("div",{className:r.paginationText,children:"Rows Per Page:"}),Object(k.jsx)("select",{onChange:function(e){m(parseInt(e.target.value,10)),u(1)},value:b,className:r.paginationSelect,children:s.map((function(e){return Object(k.jsx)("option",{value:e,children:e},e)}))}),Object(k.jsx)(Ce.a,{className:r.paginationSection,count:Math.ceil(n.fn(e).length/b),page:d,siblingCount:0,boundaryCount:1,onChange:function(e,t){u(t)},showFirstButton:!0,showLastButton:!0})]})},recordsAfterPagingAndSorting:function(){return function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n.fn(e),function(e,t){return"desc"===e?function(e,n){return S(e,n,t)}:function(e,n){return-S(e,n,t)}}(x,w)).slice((d-1)*b,d*b)},resetPage:function(){if(1!==d)return u(1)}}}var _e=n(45),Ie=n.n(_e),Ue=n(201),We=n.n(Ue),qe=n(202),Ae=n.n(qe),Ee=n(463),Fe=n(203),Ye=n.n(Fe),Me=n(468),Be=n(204),Le=n(479);var Ne=function(e){var t,n,a=e.ticket,r=Object(Me.a)(Object(Be.a)());return a?Object(k.jsxs)(i.a.Fragment,{children:[Object(k.jsx)(R.a,{item:!0,xs:3,sm:6,md:10,children:Object(k.jsx)(Le.a,{theme:r,children:Object(k.jsx)(H.a,{variant:"h4",gutterBottom:!0,noWrap:!0,children:"#"+a.id+" "+a.title})})}),Object(k.jsxs)(R.a,{item:!0,xs:"auto",sm:"auto",md:"auto",container:!0,display:"inline",alignContent:"center",children:[Object(k.jsx)(R.a,{item:!0,display:"inline",justifyContent:"space-between",children:Object(k.jsx)(Ee.a,{onClick:function(){e.onEdit()},children:Object(k.jsx)(We.a,{fontSize:"large"})})}),Object(k.jsx)(R.a,{item:!0,display:"inline",paddingLeft:{xs:1,sm:2,md:2},children:Object(k.jsxs)(Ee.a,{onClick:function(){e.onClose()},children:[Object(k.jsx)(Ae.a,{fontSize:"large"})," "]})})]}),Object(k.jsxs)(R.a,{item:!0,container:!0,spacing:1,children:[Object(k.jsx)(R.a,{item:!0,children:Object(k.jsx)(H.a,{variant:"body1",fontSize:"small",children:Object(k.jsx)("strong",{children:"Assigned:"})})}),Object(k.jsx)(R.a,{item:!0,children:Object(k.jsx)(Ye.a,{fontSize:"small"})}),Object(k.jsx)(R.a,{item:!0,children:Object(k.jsx)(H.a,{variant:"body1",fontSize:"small",children:a.assignedUserName})})]}),Object(k.jsxs)(R.a,{item:!0,container:!0,children:[Object(k.jsx)(R.a,{item:!0,xs:4,sm:4,md:2,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Created:"})," ",null===(t=a.createdDate)||void 0===t?void 0:t.toDateString()]})}),Object(k.jsx)(R.a,{item:!0,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Due:"})," ",null===(n=a.dueDate)||void 0===n?void 0:n.toDateString()]})})]}),Object(k.jsxs)(R.a,{item:!0,container:!0,children:[Object(k.jsx)(R.a,{item:!0,xs:4,sm:2,md:2,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Status:"})," ",a.status]})}),Object(k.jsx)(R.a,{item:!0,xs:4,sm:2,md:2,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Severity:"})," Placeholder"]})}),Object(k.jsx)(R.a,{item:!0,xs:4,sm:2,md:2,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Priority:"})," ",a.priority]})}),Object(k.jsx)(R.a,{item:!0,xs:4,sm:2,md:2,children:Object(k.jsxs)(H.a,{variant:"body1",fontSize:"small",children:[Object(k.jsx)("strong",{children:"Project:"})," ",a.project_name]})})]})]}):Object(k.jsx)(i.a.Fragment,{children:"loading"})};var ze=function(e){var t=e.ticket;return t?Object(k.jsxs)(R.a,{item:!0,xs:4,sm:8,md:12,children:[Object(k.jsx)(H.a,{variant:"body1",children:Object(k.jsx)("strong",{children:"Description"})}),Object(k.jsx)(H.a,{variant:"body1",children:t.description})]}):Object(k.jsx)("p",{children:"loading..."})},Je={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4,overflow:"auto"};var Ve=function(e){return Object(k.jsx)(J.a,{open:e.modalIsOpen,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",onBackdropClick:function(){e.onClose()},children:Object(k.jsx)(V.a,{sx:Je,children:Object(k.jsxs)(R.a,{container:!0,spacing:{md:0},columns:{xs:4,sm:8,md:12},padding:{md:.6},justifyContent:"space-between",children:[Object(k.jsx)(Ne,{ticket:e.ticket,onClose:e.onClose,onEdit:e.onEdit}),Object(k.jsx)(w.a,{style:{width:"100%",margin:20}}),Object(k.jsx)(ze,{ticket:e.ticket})]})})})},Re=X.b({title:X.c().min(10,"Ticket title should be of minimum 8 characters length").required("Ticket title is required"),description:X.c().required("Ticket description is required")});function He(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)([]),l=Object(c.a)(s,2),d=l[0],u=l[1],j=new re,h=new ue,b=e.ticket;Object(a.useEffect)((function(){j.getAllProjectPromise().then((function(e){var t=e.data.map((function(e){return new le(e)}));r(t)}))}),[]),Object(a.useEffect)((function(){h.getAllUsersPromise().then((function(e){var t=e.data.map((function(e){return new de(e)}));u(t)}))}),[]);var m=Object(Q.a)({initialValues:{title:null===b||void 0===b?void 0:b.title,description:null===b||void 0===b?void 0:b.description,dueDate:null===b||void 0===b?void 0:b.dueDate,createdDate:null===b||void 0===b?void 0:b.createdDate,updatedDate:null===b||void 0===b?void 0:b.updatedDate,status:null===b||void 0===b?void 0:b.status,assignedUserId:null===b||void 0===b?void 0:b.assignedUserId,priority:null===b||void 0===b?void 0:b.priority,project:b?b.project:""},validationSchema:Re,onSubmit:function(t){var n=new te({id:null===b||void 0===b?void 0:b.id,title:t.title,description:t.description,due_date:t.dueDate&&new Date(t.dueDate),created_at:null===b||void 0===b?void 0:b.createdDate,updated_at:null===b||void 0===b?void 0:b.updatedDate,status:t.status,priority:t.priority,project:t.project,assigned_user:t.assignedUserId});j.updateTicketPromise(n).then((function(t){e.onClose()})).catch((function(e){}))}});return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("form",{onSubmit:m.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:3,children:[Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{required:!0,id:"title",name:"title",label:"Title",fullWidth:!0,variant:"standard",value:m.values.title,onChange:m.handleChange,error:m.touched.title&&Boolean(m.errors.title),helperText:m.touched.title&&m.errors.title})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"project",name:"project",label:"Project",fullWidth:!0,variant:"standard",value:m.values.project,onChange:function(e){return m.setFieldValue("project",e.target.value)},onBlur:m.handleBlur,children:i.map((function(e){return Object(k.jsx)($.a,{value:e.id,children:e.name},e.id)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"status",name:"status",label:"Status",fullWidth:!0,variant:"standard",value:m.values.status,onChange:function(e){return m.setFieldValue("status",e.target.value)},onBlur:m.handleBlur,children:[{label:"Unassigned",value:1},{label:"Open",value:2},{label:"In Progress",value:3},{label:"Resolved",value:4},{label:"Done",value:5},{label:"Re-opened",value:6}].map((function(e){return Object(k.jsx)($.a,{value:e.label,children:e.label},e.value)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{required:!0,id:"category",name:"category",label:"Category",fullWidth:!0,variant:"standard",disabled:!0})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(k.jsx)(se.b,{dateAdapter:oe.a,children:Object(k.jsx)(ce.a,{label:"Due Date",value:m.values.dueDate,inputFormat:"dd-MM-yyyy HH:mm",onChange:function(e){return m.setFieldValue("dueDate",e)},minDate:m.initialValues.createdDate,renderInput:function(e){return Object(k.jsx)(G.a,Object(o.a)({id:"due_date",name:"due_date",label:"Due Date",fullWidth:!0,variant:"standard"},e))}})})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:1,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"priority",name:"priority",label:"Priority",fullWidth:!0,variant:"standard",value:m.values.priority,onChange:function(e){return m.setFieldValue("priority",e.target.value)},onBlur:m.handleBlur,children:[{label:"LOW",value:1},{label:"MEDIUM",value:2},{label:"HIGH",value:3}].map((function(e){return Object(k.jsx)($.a,{value:e.value,children:e.value},e.label)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{select:!0,required:!0,id:"assigned",name:"assigned",label:"Assigned",fullWidth:!0,variant:"standard",value:m.values.assignedUserId,onChange:function(e){return m.setFieldValue("assignedUserId",e.target.value)},onBlur:m.handleBlur,children:d.map((function(e){return Object(k.jsx)($.a,{value:e.id,children:e.username},e.id)}))})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:12,children:Object(k.jsx)(G.a,{required:!0,id:"description",name:"description",label:"Description",fullWidth:!0,variant:"standard",multiline:!0,rows:8,value:m.values.description,onChange:m.handleChange,error:m.touched.description&&Boolean(m.errors.description),helperText:m.touched.description&&m.errors.description})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(K.a,{spacing:2,direction:"row",children:[Object(k.jsx)(W.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(k.jsx)(W.a,{color:"primary",variant:"outlined",onClick:function(){return e.onClose()},children:"Cancel"})]})})]})})})}function Ge(e){return Object(k.jsx)("div",{children:Object(k.jsx)(J.a,{open:!0,children:Object(k.jsx)(V.a,{sx:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4},children:Object(k.jsxs)(R.a,{container:!0,spacing:{md:0},columns:{xs:4,sm:8,md:12},padding:{md:.6},justifyContent:"space-between",children:[void 0!==e.ticket?Object(k.jsxs)(H.a,{variant:"h4",children:["Edit Ticket Number ","#"+e.ticket.id," "]}):"",Object(k.jsx)(He,{onClose:e.onClose,ticket:e.ticket})]})})})})}var Xe=[{id:"id",label:" Number"},{id:"title",label:"Title"},{id:"description",label:"Description"},{id:"project_name",label:"Project"},{id:"dueDate",label:"Due"},{id:"createDate",label:"Created"},{id:"updateDate",label:"Updated"},{id:"status",label:"Status"}],Qe=new re;function $e(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(!0),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)({fn:function(e){return r}}),h=Object(c.a)(j,2),b=h[0],m=h[1],O=Pe(r,Xe,b),p=O.TblContainer,x=O.TblHead,g=O.TblPagination,f=O.recordsAfterPagingAndSorting,v=O.resetPage,w=Object(a.useState)(""),y=Object(c.a)(w,2)[1],S=Object(a.useState)(),C=Object(c.a)(S,2),T=C[0],D=C[1],P=Object(a.useState)(!1),_=Object(c.a)(P,2),I=_[0],U=_[1],W=Object(a.useState)(!1),q=Object(c.a)(W,2),A=q[0],E=q[1];function F(){Qe.getAllTicketsPromise().then((function(e){var t=e.data.map((function(e){return new te(e)}));s(t),m({fn:function(e){return e}}),u(!1)})).catch((function(e){u(!1)}))}return Object(a.useEffect)(F,[]),Object(a.useEffect)((function(){var t;t=e.searchTextInput,v(),y(t),m({fn:function(e){return""===t?e:e.filter((function(e){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||Ie()(e.dueDate).format("DD-MM-YYYY").includes(t)||Ie()(e.createdDate).format("DD-MM-YYYY").includes(t)||Ie()(e.updatedDate).format("DD-MM-YYYY").includes(t)}))}})}),[e]),Object(k.jsxs)(i.a.Fragment,{children:[I?Object(k.jsx)(Ve,{ticket:T,modalIsOpen:I,onClose:function(){F(),U(!1)},onEdit:function(){U(!1),E(!0)}}):"",A?Object(k.jsx)(Ge,{onClose:function(){F(),E(!1)},ticket:T}):"",Object(k.jsx)(H.a,{variant:"h1",children:"Tickets"}),Object(k.jsxs)(p,{children:[Object(k.jsx)(x,{}),Object(k.jsx)(ge.a,{children:r.length>0?f().map((function(e){return Object(k.jsxs)(fe.a,{onClick:function(){return function(e){var t=e;Qe.getTicketByIdPromise(t).then((function(e){var t=new te(e.data);D(t),U(!0)})).catch((function(e){console.log(e)}))}(e.id)},children:[Object(k.jsxs)(ve.a,{children:[e.id," "]}),Object(k.jsxs)(ve.a,{children:[e.title," "]}),Object(k.jsx)(ve.a,{children:(t=e.description,n=200,t.length>n?t.substring(0,n):t)}),Object(k.jsxs)(ve.a,{children:[e.project_name," "]}),Object(k.jsx)(ve.a,{children:Ie()(e.dueDate,"DD-MM-YYYY").isValid()?Ie()(e.dueDate).format("DD-MM-YYYY"):" "}),Object(k.jsx)(ve.a,{children:Ie()(e.createdDate,"DD-MM-YYYY").isValid()?Ie()(e.createdDate).format("DD-MM-YYYY"):" "}),Object(k.jsx)(ve.a,{children:Ie()(e.updatedDate,"DD-MM-YYYY").isValid()?Ie()(e.updatedDate).format("DD-MM-YYYY"):" "}),Object(k.jsxs)(ve.a,{children:[e.status," "]})]},e.id);var t,n})):Object(k.jsx)(fe.a,{children:Object(k.jsx)(ve.a,{colSpan:100,children:d?Object(k.jsx)(we.a,{}):"No data found"})})})]}),Object(k.jsx)(g,{})]})}var Ke=n(455),Ze=n(452),et=n(445),tt=function(){function e(t){Object(Z.a)(this,e),this.url=void 0,this.name=void 0,this.url=t.url,this.name=t.name}return Object(ee.a)(e,[{key:"toJSON",value:function(){return{url:this.url,name:this.name}}}]),e}(),nt=function(){function e(){Object(Z.a)(this,e),this.apiUrl="https://sheltered-bastion-53879.herokuapp.com/",this.axiosInstance=ae.a.create({baseURL:this.apiUrl})}return Object(ee.a)(e,[{key:"getAllRolesPromise",value:function(){return this.axiosInstance.request({method:"GET",url:"/roles",headers:{Authorization:"JWT ".concat(ie.getToken())}})}}]),e}();function at(e){var t=new ue,n=e.user,i=Object(a.useState)([]),r=Object(c.a)(i,2),s=r[0],o=r[1],l=new nt,d=Object(Q.a)({initialValues:{username:null===n||void 0===n?void 0:n.username,email:null===n||void 0===n?void 0:n.email,groups:null===n||void 0===n?void 0:n.groups,last_login:null===n||void 0===n?void 0:n.last_login,date_joined:null===n||void 0===n?void 0:n.date_joined},onSubmit:function(a){var i=new de({id:null===n||void 0===n?void 0:n.id,username:a.username,email:a.email,groups:a.groups,last_login:null===n||void 0===n?void 0:n.last_login,date_joined:null===n||void 0===n?void 0:n.date_joined});t.updateUserPromise(i).then((function(t){e.onClose()})).catch((function(e){}))}});return Object(a.useEffect)((function(){l.getAllRolesPromise().then((function(e){var t=e.data.map((function(e){return new tt(e)}));o(t)}))}),[]),Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("form",{style:{width:"100%"},onSubmit:d.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:3,children:[Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{required:!0,id:"username",name:"username",label:"Username",fullWidth:!0,variant:"standard",value:d.values.username,onChange:d.handleChange})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:4,children:Object(k.jsx)(G.a,{required:!0,id:"email",name:"email",label:"Email",fullWidth:!0,variant:"standard",value:d.values.email,onChange:d.handleChange})}),Object(k.jsxs)(R.a,{item:!0,xs:12,sm:4,children:[Object(k.jsx)(Ze.a,{style:{fontSize:"0.75rem"},id:"roles-label",children:"Roles"}),Object(k.jsx)(et.a,{labelId:"roles-label",id:"groups",name:"groups",label:"Roles",fullWidth:!0,multiple:!0,variant:"standard",value:d.values.groups,onChange:d.handleChange,renderValue:function(e){return Object(k.jsx)(V.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){var t=s.find((function(t){return t.url===e}));return Object(k.jsx)(Ke.a,{label:null===t||void 0===t?void 0:t.name},e)}))})},children:s.map((function(e){return Object(k.jsx)($.a,{value:e.url,children:e.name},e.url)}))})]}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(K.a,{spacing:2,direction:"row",children:[Object(k.jsx)(W.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(k.jsx)(W.a,{color:"primary",variant:"outlined",onClick:function(){return e.onClose()},children:"Cancel"})]})})]})})})}function it(e){return Object(k.jsx)("div",{children:Object(k.jsx)(J.a,{open:!0,children:Object(k.jsx)(V.a,{sx:{position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:4},children:Object(k.jsxs)(R.a,{container:!0,spacing:{md:0},columns:{xs:4,sm:8,md:12},padding:{md:.6},justifyContent:"space-between",children:[Object(k.jsx)(H.a,{variant:"h4",children:"Edit User"}),Object(k.jsx)(at,{onClose:e.onClose,user:e.user})]})})})})}var rt=new ue,st=new nt,ct=[{id:"username",label:"Name"},{id:"email",label:"Email"},{id:"groups",label:"Roles"},{id:"last_login",label:"Last Login"},{id:"date_joined",label:"Created"}];function ot(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(!0),h=Object(c.a)(j,2),b=h[0],m=h[1],O=Object(a.useState)({fn:function(e){return d}}),p=Object(c.a)(O,2),x=p[0],g=p[1],f=Pe(d,ct,x),v=f.TblContainer,w=f.TblHead,y=f.TblPagination,S=f.recordsAfterPagingAndSorting,C=f.resetPage,T=i.a.useState(""),D=Object(c.a)(T,2)[1],P=Object(a.useState)(),_=Object(c.a)(P,2),I=_[0],U=_[1],W=Object(a.useState)([]),q=Object(c.a)(W,2),A=q[0],E=q[1];function F(){rt.getAllUsersPromise().then((function(e){var t=e.data.map((function(e){return new de(e)}));u(t),g({fn:function(e){return e}}),m(!1)})).catch((function(e){m(!1)}))}return Object(a.useEffect)(F,[]),Object(a.useEffect)((function(){var t;t=e.searchTextInput,C(),D(t),g({fn:function(e){return""===t?e:e.filter((function(e){return e.username.toLowerCase().includes(t)}))}}),D("")}),[e]),Object(a.useEffect)((function(){st.getAllRolesPromise().then((function(e){var t=e.data.map((function(e){return new tt(e)}));E(t)}))}),[]),Object(k.jsxs)(i.a.Fragment,{children:[r?Object(k.jsx)(it,{onClose:function(){F(),s(!1)},user:I}):"",Object(k.jsx)(H.a,{variant:"h1",children:"Users"}),Object(k.jsxs)(v,{children:[Object(k.jsx)(w,{}),Object(k.jsx)(ge.a,{children:d.length>0?S().map((function(e){return Object(k.jsxs)(fe.a,{onClick:function(){return function(e){var t=e;(new ue).getUserByIdPromise(t).then((function(e){var t=new de(e.data);U(t),s(!0)})).catch((function(e){console.log(e)}))}(e.id)},children:[Object(k.jsxs)(ve.a,{children:[e.username," "]}),Object(k.jsxs)(ve.a,{children:[e.email," "]}),Object(k.jsx)(ve.a,{children:Object(k.jsx)(V.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.groups.toString().split(",").map((function(e){var t=A.find((function(t){return t.url===e}));return"undefined"!==typeof t&&Object(k.jsx)(Ke.a,{label:null===t||void 0===t?void 0:t.name},null===t||void 0===t?void 0:t.url)}))})}),Object(k.jsxs)(ve.a,{children:[Ie()(e.last_login).format("DD-MM-YYYY HH:mm")," "]}),Object(k.jsxs)(ve.a,{children:[Ie()(e.date_joined).format("DD-MM-YYYY HH:mm")," "]})]},e.id)})):Object(k.jsx)(fe.a,{children:Object(k.jsx)(ve.a,{colSpan:100,children:b?Object(k.jsx)(we.a,{}):"No data found"})})})]}),Object(k.jsx)(y,{})]})}function lt(){return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(H.a,{variant:"h1",gutterBottom:!0,children:"Settings"}),Object(k.jsx)(R.a,{container:!0,spacing:2,children:Object(k.jsx)(R.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(H.a,{variant:"body1",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer consequat velit sem, ultrices cursus augue lacinia a. Quisque consequat ac neque ut convallis. Sed velit arcu, vestibulum ut lacus vel, fermentum faucibus augue. Vivamus justo felis, consectetur eu accumsan a, faucibus at diam."})})})]})}var dt=n(440),ut=n(441),jt=n(464),ht=n(470),bt=n(459),mt=function e(t,n,a){Object(Z.a)(this,e),this.username=void 0,this.email=void 0,this.password=void 0,this.username=t,this.email=n,this.password=a},Ot=n(471),pt=new re;function xt(e){var t=a.useState(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],s=a.useState({showPassword:!1,username:"",password:""}),l=Object(c.a)(s,2),d=l[0],u=l[1],j=Object(Q.a)({initialValues:{username:"",password:""},onSubmit:function(t){!function(t){r(!0),pt.loginUserPromise(t).then((function(t){void 0!==t.data.user?(e.setMessage({status:"",show_message:!1,message:""}),ie.setToken(t.data.token),e.setUser({logged_in:!0,username:t.data.user.username})):e.setMessage({status:"error",show_message:!0,message:"Something went wrong while trying to login!"}),r(!1)})).catch((function(t){r(!1),e.setMessage({status:"error",show_message:!0,message:"Something went wrong while trying to login!"})}))}(new mt(t.username,"",t.password))}});return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("form",{onSubmit:j.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:2,children:[Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsx)(H.a,{variant:"h1",children:"Login"})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(jt.a,{variant:"standard",fullWidth:!0,children:[Object(k.jsx)(Ze.a,{htmlFor:"username",children:"Username"}),Object(k.jsx)(ht.a,{required:!0,id:"username",value:j.values.username,onChange:j.handleChange})]})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(jt.a,{variant:"standard",fullWidth:!0,children:[Object(k.jsx)(Ze.a,{htmlFor:"password",children:"Password"}),Object(k.jsx)(ht.a,{required:!0,id:"password",type:d.showPassword?"text":"password",value:j.values.password,onChange:j.handleChange,endAdornment:Object(k.jsx)(bt.a,{position:"end",children:Object(k.jsx)(Ee.a,{onClick:function(){u(Object(o.a)(Object(o.a)({},d),{},{showPassword:!d.showPassword}))},children:d.showPassword?Object(k.jsx)(dt.a,{}):Object(k.jsx)(ut.a,{})})})})]})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(k.jsx)(Ot.a,{loading:i,variant:"outlined",type:"submit",fullWidth:!0,children:"Login"})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:9,children:Object(k.jsx)(W.a,{component:y.a,to:"/register",children:"Don't have an account yet?"})})]})})})}function gt(e){var t=a.useState(!1),n=Object(c.a)(t,2),i=n[0],r=n[1],s=a.useState({showPassword:!1,username:"",email:"",password:""}),l=Object(c.a)(s,2),d=l[0],u=l[1],j=new re,h=Object(Q.a)({initialValues:{username:"",email:"",password:""},onSubmit:function(t){!function(t){r(!0),j.registerUserPromise(t).then((function(t){e.setMessage({status:"success",show_message:!0,message:"Successfully registered account! Please login"}),r(!1)})).catch((function(t){if(r(!1),t.response){var n=t.response.data,a="Something went wrong while trying to register user!";void 0!==n.non_field_errors?a=n.non_field_errors:void 0!==n.username?a="Username: "+n.username:void 0!==n.email?a="Email: "+n.email:void 0!==n.password&&(a="Password: "+n.password),e.setMessage({status:"error",show_message:!0,message:a})}}))}(new mt(t.username,t.email,t.password))}});return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("form",{onSubmit:h.handleSubmit,children:Object(k.jsxs)(R.a,{container:!0,spacing:2,children:[Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsx)(H.a,{variant:"h1",children:"Register"})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(jt.a,{variant:"standard",fullWidth:!0,children:[Object(k.jsx)(Ze.a,{htmlFor:"username",children:"Username"}),Object(k.jsx)(ht.a,{required:!0,id:"username",value:h.values.username,onChange:h.handleChange})]})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(jt.a,{variant:"standard",fullWidth:!0,children:[Object(k.jsx)(Ze.a,{htmlFor:"email",children:"Email"}),Object(k.jsx)(ht.a,{required:!0,id:"email",type:"email",value:h.values.email,onChange:h.handleChange})]})}),Object(k.jsx)(R.a,{item:!0,xs:12,children:Object(k.jsxs)(jt.a,{variant:"standard",fullWidth:!0,children:[Object(k.jsx)(Ze.a,{htmlFor:"password",children:"Password"}),Object(k.jsx)(ht.a,{required:!0,id:"password",inputProps:{minLength:8},type:d.showPassword?"text":"password",value:h.values.password,onChange:h.handleChange,endAdornment:Object(k.jsx)(bt.a,{position:"end",children:Object(k.jsx)(Ee.a,{onClick:function(){u(Object(o.a)(Object(o.a)({},d),{},{showPassword:!d.showPassword}))},children:d.showPassword?Object(k.jsx)(dt.a,{}):Object(k.jsx)(ut.a,{})})})})]})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:3,children:Object(k.jsx)(Ot.a,{loading:i,variant:"outlined",type:"submit",fullWidth:!0,children:"Register"})}),Object(k.jsx)(R.a,{item:!0,xs:12,sm:9,children:Object(k.jsx)(W.a,{component:y.a,to:"/",children:"Already have an account?"})})]})})})}var ft=n(38),vt=n(447),wt=n(205),yt=["component","isLoggedIn"];function kt(e){var t=e.component,n=e.isLoggedIn,a=Object(wt.a)(e,yt);return Object(k.jsx)(q.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return n?t:Object(k.jsx)(q.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var St=new re,Ct=[{id:"id",label:"Id"},{id:"name",label:"Name"},{id:"delete",label:"Delete?"}];function Tt(e){var t=i.a.useState(!1),n=Object(c.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(!0),h=Object(c.a)(j,2),b=h[0],m=h[1],O=Object(a.useState)({fn:function(e){return d}}),p=Object(c.a)(O,2),x=p[0],g=p[1],f=Pe(d,Ct,x),v=f.TblContainer,w=f.TblHead,y=f.TblPagination,S=f.recordsAfterPagingAndSorting,C=f.resetPage,T=i.a.useState(""),D=Object(c.a)(T,2)[1],P=Object(a.useState)(null),_=Object(c.a)(P,2),I=_[0],U=_[1];function q(){St.getAllProjectPromise().then((function(e){var t=e.data.map((function(e){return new le(e)}));u(t),g({fn:function(e){return e}}),m(!1)})).catch((function(e){m(!1)}))}return window.addEventListener("load",(function(){q()})),Object(a.useEffect)(q,[]),Object(a.useEffect)((function(){var t;t=e.searchTextInput,C(),D(t),g({fn:function(e){return""===t?e:e.filter((function(e){return e.name.toLowerCase().includes(t)}))}}),D("")}),[e]),Object(k.jsxs)(i.a.Fragment,{children:[Object(k.jsx)(Oe,{modalIsOpen:r,onClose:function(){s(!1),q()},project:I}),Object(k.jsx)(H.a,{variant:"h1",children:"Projects"}),Object(k.jsxs)(v,{children:[Object(k.jsx)(w,{}),Object(k.jsx)(ge.a,{children:d.length>0?S().map((function(e){return Object(k.jsxs)(fe.a,{onClick:function(t){var n;"button"!==t.target.getAttribute("type")&&(n=new le(e),U(n),s(!0))},children:[Object(k.jsxs)(ve.a,{children:[e.id," "]}),Object(k.jsxs)(ve.a,{children:[e.name," "]}),Object(k.jsx)(ve.a,{children:Object(k.jsx)(W.a,{onClick:function(){var t;window.confirm("Are you sure to delete this project?")&&(t=new le(e),St.deleteProject(t).then((function(e){return q()})))},children:"Delete"})})]},e.id)})):Object(k.jsx)(fe.a,{children:Object(k.jsx)(ve.a,{colSpan:100,children:b?Object(k.jsx)(we.a,{}):"No data found"})})})]}),Object(k.jsx)(y,{})]})}var Dt,Pt=Object(ft.a)();var _t=function(){var e=a.useState(""),t=Object(c.a)(e,2),n=t[0],i=t[1],r=a.useState({logged_in:!1,username:""}),s=Object(c.a)(r,2),o=s[0],l=s[1],d=a.useState({status:"",show_message:!1,message:""}),u=Object(c.a)(d,2),j=u[0],h=u[1];function b(){ie.deleteToken(),l({logged_in:!1,username:""}),clearInterval(Dt)}function m(){Dt=setInterval((function(){O()}),5e5)}function O(){fetch("https://sheltered-bastion-53879.herokuapp.com/token-refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ie.getToken()})}).then((function(e){return e.json()})).then((function(e){void 0!==e.user?(ie.setToken(e.token),l({logged_in:!0,username:e.user.username})):b()})).catch((function(e){b()}))}return Pt.listen((function(e){h({status:"",show_message:!1,message:""}),i("")})),window.addEventListener("load",(function(){o.logged_in&&(O(),m())})),Object(k.jsxs)(q.c,{history:Pt,children:[Object(k.jsx)(D,{}),Object(k.jsx)(pe,{handle_logout:b,logged_in:o.logged_in,searchText:n,setSearchText:i}),Object(k.jsxs)("div",{id:"content",children:[j.show_message&&"error"===j.status?Object(k.jsx)(vt.a,{onClose:function(){h({status:"",show_message:!1,message:""})},className:"message",severity:"error",children:j.message}):"",j.show_message&&"success"===j.status?Object(k.jsx)(vt.a,{onClose:function(){h({status:"",show_message:!1,message:""})},className:"message",severity:"success",children:j.message}):"",Object(k.jsxs)(q.d,{children:[Object(k.jsx)(q.a,{from:"/ticket-tracker",to:"/"}),o.logged_in?"":Object(k.jsx)(q.b,{exact:!0,path:"/",children:Object(k.jsx)(xt,{setMessage:h,setUser:l,startInterval:m})}),o.logged_in?Object(k.jsx)(q.b,{exact:!0,path:"/",children:Object(k.jsx)(xe,{})}):Object(k.jsx)(q.b,{path:"/register",children:Object(k.jsx)(gt,{setMessage:h})}),Object(k.jsx)(kt,{path:"/tickets",component:Object(k.jsx)($e,{searchTextInput:n}),isLoggedIn:o.logged_in}),Object(k.jsx)(kt,{path:"/users",component:Object(k.jsx)(ot,{searchTextInput:n}),isLoggedIn:o.logged_in}),Object(k.jsx)(kt,{path:"/settings",component:Object(k.jsx)(lt,{}),isLoggedIn:o.logged_in}),Object(k.jsx)(kt,{path:"/projects",component:Object(k.jsx)(Tt,{}),isLoggedIn:o.logged_in})]})]})]})},It=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,481)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};s.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(_t,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ticket-tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/ticket-tracker","/service-worker.js");It?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ut(t,e)}))}}(),Wt()}},[[349,1,2]]]);
//# sourceMappingURL=main.323125e5.chunk.js.map